<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>Jorge's Directory</title>
	<link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
</head>
<body ng-app="directoryApp">
	<div  ng-controller="ContactController">
		<h2>Contacts</h2>

		<a class="btn btn-primary btn-lg" data-toggle="modal" data-target="#saveContactModal" ng-click="clear()">
			<span class="glyphicon glyphicon-flash"></span> Add Contact
		</a>
		
		<div class="modal fade" id="saveContactModal" tabindex="-1" role="dialog" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<form name="form" role="form" novalidate class="ng-scope ng-invalid ng-invalid-required ng-dirty ng-valid-minlength" ng-submit="create()">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="clear()">&times;</button>
							<h4 class="modal-title" id="myContactLabel">Add or edit Contact</h4>
						</div>
						<div class="modal-body">
							<div class="form-group">
								<label>ID</label> <input type="text" class="form-control" name="id" ng-model="contact.id" readonly>
							</div>

							<div class="form-group">
								<label>Name</label> <input type="text" class="form-control" name="name" ng-model="contact.name" ng-minlength=1 ng-maxlength=50 required>
							</div>

							<div class="form-group">
								<label>Last name</label> <input type="text" class="form-control" name="lastName" ng-model="contact.lastName" ng-minlength=1 ng-maxlength=50>
							</div>
							
							<div class="form-group">
								<label>Phone Number</label> <input type="text" class="form-control" name="phoneNumber" ng-model="contact.phoneNumber" ng-minlength=1 ng-maxlength=12 required>
							</div>

						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-default" data-dismiss="modal" ng-click="clear()">
								<span class="glyphicon glyphicon-ban-circle"></span> Cancel
							</button>
							<button type="submit" ng-disabled="form.$invalid" class="btn btn-primary">
								<span class="glyphicon glyphicon-save"></span> Save
							</button>
						</div>
					</form>
				</div>
			</div>
		</div>

		<div class="table-responsive">
			<table class="table table-striped">
				<thead>
					<tr>
						<th>ID</th>
						<th>Sample text</th>
						<th>Sample date</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="contact in contacts">
						<td>{{contact.id}}</td>
						<td>{{contact.name}}</td>
						<td>{{contact.lastName}}</td>
						<td>{{contact.phoneNumber}}</td>
						<td>
							<button type="submit" ng-click="update(contact.id)" class="btn">
								<span class="glyphicon glyphicon-pencil"></span> Edit
							</button>
							<button type="submit" ng-click="delete(contact.id)" class="btn btn-danger">
								<span class="glyphicon glyphicon-remove-circle"></span> Delete
							</button>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	
	<script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
	
	<script src="bower_components/angular/angular.js"></script>
	<script src="bower_components/angular-resource/angular-resource.js"></script>

	<script src="scripts/app.js"></script>
	<script src="scripts/contact/controllerContact.js"></script>
	<script src="scripts/contact/serviceContact.js"></script>
</body>
</html>
